# 云边端架构设计方案深度解读

大家好，今天我们来聊聊华强麦斯的架构设计方案。这个方案我们在第一轮讨论的基础上，做了一个更落地的细化。

核心思路很明确——用云边端架构，解决一个集团、多个工厂的管理难题。

## 一、云边端架构的本质

先说清楚这个架构是为了什么。

试点项目是3个工厂，后续要推广到几十个工厂。这么多工厂，怎么统一管理？怎么保证数据一致？怎么快速迭代？

答案就是云边端。

云，就是集团层面；边，就是工厂层面。

云端掌握全局数据，所有工厂的主数据都在这里统一管理。边端负责实时执行，每个工厂都有自己的MES实例，包含应用服务器、接口、数据库，还要和IoT、安灯、本地系统对接。

这样的好处是什么？云端统一标准，边端快速响应。数据在云端汇总，业务在边端落地。

## 二、三层架构的具体分工

云端做什么？

三件事：看板、全局数据仓、主数据下发。主数据包括工艺路线、质量标准这些核心信息，从云端统一下发到边端，确保所有工厂用的标准是一样的。

边端做什么？

生产调度、执行跟踪、物料管理、质量控制、现场防呆防错。这些都需要实时响应，必须在边端完成。注意一个细节——设备本身的实时监控不在MES范围内，那属于另一个蔬菜服务系统。

端是什么？

端就是蔬菜服务。目前蔬菜服务在另外一个项目里体现，但它确实是整个云边端架构的重要组成部分。

## 三、ESB集成的设计思路

这里有个关键问题——MES怎么和其他系统对接？

华强有自己的ESB总线，包括ERP、OA、HR、WMS这些系统。MES和这些系统的对接，走华强的ESB。

但是，MES内部呢？云端到边端，API网关这一块，是我们自己的总线。

所以逻辑很清晰：系统内部流转，走自己的总线；跨系统对接，走华强的ESB。

这样既保证了MES系统的独立性，又兼容了华强的现有架构。

落地的时候，如果智威来承接ESB，可能就是用Kafka集群。这部分要和华强IT对齐，看具体怎么处理。

## 总结

整个架构设计就这三点：

第一，云边端分离，云端管标准，边端管执行。

第二，MES通过华强ESB对接其他系统，内部流转用自己的总线。

第三，3个工厂试点，未来扩展到几十个工厂，这个架构都能撑得住。

简单，清晰，可落地。这就是华强麦斯架构设计方案的核心。
